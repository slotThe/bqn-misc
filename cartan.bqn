# Calculate all roots of the given Cartan matrix. The basic idea is as
# follows:
#
# - Given the Cartan matrix (Cáµ¢â±¼) of size n, we have as many simple root as
#   the diagonal. The simples are thus encoded as the columns of the identity
#   nÃ—n matrix.
#
# - From these, one can calculate all positive roots in a sort of fixed-point
#   process: given a simple root Î±â‚– and a positive one Î» = âˆ‘áµ¢Î»áµ¢Î±áµ¢ (where the
#   set of positive roots starts out as the simples), compute r = -âˆ‘áµ¢Î»áµ¢Cáµ¢â‚–.
#   If r is positive, then we obtain the Î±â‚–-string through Î» of length r as
#   Î», Î»+Î±â‚–, â€¦, Î»+rÂ·aâ‚–.
#
# - The whole root system is obtained by simply adding all negative roots.
#
# Sources:
#   - Humphreys Section 11.1, page 56.
#   - https://math.stackexchange.com/questions/3265516/computing-all-the-roots-from-the-cartan-matrix

_fix â† {ğ”½âˆ˜âŠ¢âŸâ‰¢âŸœğ”½_ğ•£âˆ˜âŠ¢âŸâ‰¢âŸœğ”½ğ•©}                              # ğ”½ _fix ğ•©
m â† [[2,Â¯1,0],[Â¯1,2,Â¯2],[0,Â¯1,2]]                      # Bâ‚ƒ
nr â† â‰ m                                                # Number of roots
sr â† =âŒœËœâ†•nr                                            # Simple roots

rs â† { ğ•Šrs:                                            # Positive roots
  â·rsâˆ¾ âˆ¾â¥Š sr{ağ•Šc: {ğ•Šr: {ğ•©>0? {r+ğ•©Ã—a}Â¨1+â†•ğ•©; âŸ¨âŸ©} -+Â´rÃ—c}Â¨rs}Ë˜â‰m
}_fix â¥Šâ‹ˆË˜sr
rs âˆ¾â†© -Â¨Â¨rs                                            # Negative roots

# Output
s â† @+('Î±'-@)+â†•nr                  # Human readable names for the roots.
((âˆ¾âŸœ"+"âŠ¸âˆ¾)Â´(0âŠ¸<â‰ )Â¨âŠ¸/)Â¨{
  {ğ•ŠÂ·â€¿0:""; ğ•Šiâ€¿1:â‹ˆiâŠ‘s; ğ•Šiâ€¿Â¯1:'Â¯'âˆ¾â‹ˆiâŠ‘s; ğ•Šiâ€¿n:(â€¢Fmt n)âˆ¾(iâŠ‘s)}Â¨(â†•â‰ ğ•©)â‹ˆÂ¨ğ•©
}Â¨rs
